{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="container-fluid">
	<div class="row justify-content-center">
		<div class="card profile-card mt-3">
			<div class="card-body">
				<div class="d-flex flex-column justify-content-center chat-list p-4">
					<form class="form-signin" style="max-height: 330px;" method="post">{% csrf_token %}
						<input class="d-none" type="file" id="id_profile_image_file_selector"
							name="profile_image_file_selector" onchange="readURL(this)">
						<h6 class="mt-4 field-heading">Email</h6>
						<input type="email" name="email" id="id_input_email" class="form-control"
							placeholder="Email address" required autofocus value={{form.initial.email}}>
						<h6 class="mt-4 field-heading">Username</h6>
						<input type="text" name="username" id="id_input_username" class="form-control"
							placeholder="Username" required value="{{form.initial.username}}">
						<div class="mt-4 checkbox field-heading">
							<label>
								{% if form.initial.hide_email %}
								<input type="checkbox" name="hide_email" id="id_input_hide_email_ckecked" checked>
								{% else %}
								<input type="checkbox" name="hide_email" id="id_input_hide_email_not_checked">
								{% endif %}
								Hide Email
							</label>

						</div>

						{% for field in form %}
						<p>
							{% for error in field.errors %}
						<p style="font-size: small; color: red">{{ error }}</p>
						{% endfor %}
						</p>
						{% endfor %}
						{% if form.non_field_errors %}
						<div style="color: red">
							<p>{{form.non_field_errors}}</p>
						</div>

						{% endif %}

						<div class="d-flex flex-column mt-4">
							<button class="mt-4 btn btn-primary flex-grow-1" type="submit">Save</button>
						</div>

					</form>

				</div>
			</div>
		</div>
	</div>
</div>

{% endblock content %}